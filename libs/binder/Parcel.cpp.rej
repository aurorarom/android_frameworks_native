diff a/libs/binder/Parcel.cpp b/libs/binder/Parcel.cpp	(rejected hunks)
@@ -792,10 +812,12 @@ status_t Parcel::writeDupFileDescriptor(int fd)
     }
 
     if (dupFd < 0) {
+        ALOGE("writeDupFileDescriptor: error %d dup fd %d\n", errno, fd);
         return -errno;
     }
     status_t err = writeFileDescriptor(dupFd, true /*takeOwnership*/);
     if (err) {
+        ALOGE("writeDupFileDescriptor: error %d write fd %d\n", err, dupFd);
         close(dupFd);
     }
     return err;
@@ -1529,8 +1555,14 @@ void Parcel::freeDataNoInit()
         mOwner(this, mData, mDataSize, mObjects, mObjectsSize, mOwnerCookie);
     } else {
         releaseObjects();
-        if (mData) free(mData);
-        if (mObjects) free(mObjects);
+        if (mData) {
+	    free(mData);
+	    mData = 0;
+	}
+        if (mObjects) {
+	    free(mObjects);
+	    mObjects = NULL;
+	}
     }
 }
 
